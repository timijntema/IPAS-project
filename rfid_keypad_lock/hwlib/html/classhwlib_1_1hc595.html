<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>hwlib: hwlib::hc595 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">hwlib
   </div>
   <div id="projectbrief">C++ hardware library for V1IPAS-TI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacehwlib.html">hwlib</a></li><li class="navelem"><a class="el" href="classhwlib_1_1hc595.html">hc595</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classhwlib_1_1hc595-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">hwlib::hc595 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> 8-bit output shift register  
 <a href="classhwlib_1_1hc595.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hwlib-hc595_8hpp_source.html">hwlib-hc595.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for hwlib::hc595:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classhwlib_1_1hc595.png" usemap="#hwlib::hc595_map" alt=""/>
  <map id="hwlib::hc595_map" name="hwlib::hc595_map">
<area href="classhwlib_1_1port__out.html" title="output port interface " alt="hwlib::port_out" shape="rect" coords="0,0,93,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2d940a108ba9c05dd627fe179abad9aa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d940a108ba9c05dd627fe179abad9aa"></a>
typedef <a class="el" href="classhwlib_1_1pin__out.html">pin_out</a>&#160;</td><td class="memItemRight" valign="bottom"><b>one_pin</b></td></tr>
<tr class="separator:a2d940a108ba9c05dd627fe179abad9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a293236ae5bd14fa376d8b540324f07c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a293236ae5bd14fa376d8b540324f07c0">hc595</a> (<a class="el" href="classhwlib_1_1spi__bus.html">spi_bus</a> &amp;bus, <a class="el" href="classhwlib_1_1pin__out.html">pin_out</a> &amp;sel)</td></tr>
<tr class="memdesc:a293236ae5bd14fa376d8b540324f07c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">construct an interface to an <a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> chip  <a href="#a293236ae5bd14fa376d8b540324f07c0">More...</a><br /></td></tr>
<tr class="separator:a293236ae5bd14fa376d8b540324f07c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89c7b21cb99d61c91f764a0fdb7ceb9b"><td class="memItemLeft" align="right" valign="top">uint_fast8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a89c7b21cb99d61c91f764a0fdb7ceb9b">number_of_pins</a> () override</td></tr>
<tr class="memdesc:a89c7b21cb99d61c91f764a0fdb7ceb9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">get number of pins  <a href="#a89c7b21cb99d61c91f764a0fdb7ceb9b">More...</a><br /></td></tr>
<tr class="separator:a89c7b21cb99d61c91f764a0fdb7ceb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b4d6fa77114f1f13348075389efd1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#ad2b4d6fa77114f1f13348075389efd1c">set</a> (uint_fast8_t x) override</td></tr>
<tr class="memdesc:ad2b4d6fa77114f1f13348075389efd1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">write to the port  <a href="#ad2b4d6fa77114f1f13348075389efd1c">More...</a><br /></td></tr>
<tr class="separator:ad2b4d6fa77114f1f13348075389efd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a5e124516aa762629f95c7ab63e0b3d18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhwlib_1_1hc595.html#a5e124516aa762629f95c7ab63e0b3d18">p0</a> { *this, 0 }</td></tr>
<tr class="memdesc:a5e124516aa762629f95c7ab63e0b3d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">the output pins of the chip  <a href="#a5e124516aa762629f95c7ab63e0b3d18">More...</a><br /></td></tr>
<tr class="separator:a5e124516aa762629f95c7ab63e0b3d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f83cce5a65436a22b18a9eae016535c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f83cce5a65436a22b18a9eae016535c"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p1</b> { *this, 1 }</td></tr>
<tr class="separator:a2f83cce5a65436a22b18a9eae016535c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdcdb111610864066f7dcb601473c26"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcdcdb111610864066f7dcb601473c26"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p2</b> { *this, 2 }</td></tr>
<tr class="separator:abcdcdb111610864066f7dcb601473c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2958a2516802e2d6010f53c26802bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e2958a2516802e2d6010f53c26802bd"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p3</b> { *this, 3 }</td></tr>
<tr class="separator:a1e2958a2516802e2d6010f53c26802bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b7be902f6bcaeccc77eaac57836131"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0b7be902f6bcaeccc77eaac57836131"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p4</b> { *this, 4 }</td></tr>
<tr class="separator:ac0b7be902f6bcaeccc77eaac57836131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a071e5983d048d42902099cd432b11cae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a071e5983d048d42902099cd432b11cae"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p5</b> { *this, 5 }</td></tr>
<tr class="separator:a071e5983d048d42902099cd432b11cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6cc70a4cb74a6a00f7d65f41744646"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e6cc70a4cb74a6a00f7d65f41744646"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p6</b> { *this, 6 }</td></tr>
<tr class="separator:a0e6cc70a4cb74a6a00f7d65f41744646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28075ecea47020c790ea098e32ab0b5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28075ecea47020c790ea098e32ab0b5f"></a>
<a class="el" href="classhwlib_1_1pin__out.html">one_pin</a>&#160;</td><td class="memItemRight" valign="bottom"><b>p7</b> { *this, 7 }</td></tr>
<tr class="separator:a28075ecea47020c790ea098e32ab0b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> 8-bit output shift register </p>
<p>This class implements an interface to an <a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> 8-bit output shift register chip.</p>
<div class="image">
<img src="hc595-pinout.png" alt="hc595-pinout.png"/>
</div>
<p>The <a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> is an 8-bit serial-in parallel-out shift register, connected to an 8-bit data storage register. The 8 outputs of the data register are available on chip pins. The power supply range is 2.0 .. 6.0 Volt.</p>
<div class="image">
<img src="hc595-diagram.png" alt="hc595-diagram.png"/>
</div>
<p>The HC595 can be used as SPI output-only peripheral:</p><ul>
<li>connect MR (active-low reset input) to the power</li>
<li>connect OE (active-low output enable) to gound</li>
<li>use DS as MOSI</li>
<li>use SHCP as SLCK</li>
<li>use STCP as SS</li>
</ul>
<p>Note that STCP is not a real chip-select: the chip will always respond to the data that is clocked by storing it in the shift register. But only the chip that got the select signal will (on the rising edge of the SS) transfer the data from the shift register to the storage register, hence affecting the outputs.</p>
<p>The next code shows a kitt display on 8 LEDs connected to the HC595 output pins: </p><div class="fragment"></div><!-- fragment --><p> The 74HCT595 is a similar chip, but intended (only) for 5V power, and for use with the old TTL signal levels (HC chips are for the CMOS signal levels that are more common now).</p>
<p>references:</p><ul>
<li><a href="https://www.nxp.com/documents/data_sheet/74HC_HCT595.pdf">74HC595/74HCT595 data sheet</a> (nxp, pdf) </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a293236ae5bd14fa376d8b540324f07c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">hwlib::hc595::hc595 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classhwlib_1_1spi__bus.html">spi_bus</a> &amp;&#160;</td>
          <td class="paramname"><em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classhwlib_1_1pin__out.html">pin_out</a> &amp;&#160;</td>
          <td class="paramname"><em>sel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>construct an interface to an <a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> chip </p>
<p>This constructor creates an interface to an <a class="el" href="classhwlib_1_1hc595.html" title="hc595 8-bit output shift register ">hc595</a> 8-bit output shift register chip from the SPI bus it is connected to and and the active-low chip select line. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a89c7b21cb99d61c91f764a0fdb7ceb9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint_fast8_t hwlib::hc595::number_of_pins </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get number of pins </p>
<p>This function returns the number of pins in the port. </p>

<p>Implements <a class="el" href="classhwlib_1_1port__out.html#a8593e2ff755b938797defb06c1e085df">hwlib::port_out</a>.</p>

</div>
</div>
<a class="anchor" id="ad2b4d6fa77114f1f13348075389efd1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void hwlib::hc595::set </td>
          <td>(</td>
          <td class="paramtype">uint_fast8_t&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>write to the port </p>
<p>This function writes to the pins that are part of the port. The lowest bit is written to the first pin of the port, etc. </p>

<p>Implements <a class="el" href="classhwlib_1_1port__out.html#ad086f5dd66f293118df6ab979feb64fc">hwlib::port_out</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5e124516aa762629f95c7ab63e0b3d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classhwlib_1_1pin__out.html">one_pin</a> hwlib::hc595::p0 { *this, 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the output pins of the chip </p>
<p>The p0 ... p7 attributes represent the 8 output pins of the chip. A write to one of these pins will affect (only) the corresponding output pin of the chip. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="hwlib-hc595_8hpp_source.html">hwlib-hc595.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 29 2016 14:54:27 for hwlib by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
